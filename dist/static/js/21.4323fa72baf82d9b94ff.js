webpackJsonp([21],{144:function(t,e,o){function a(t){o(775)}var n=o(29)(o(668),o(872),a,null,null);t.exports=n.exports},666:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{ruleForm:{type:"",area:"",location:""},rules:{type:[{required:!0,message:"请选择库区类型",trigger:"change"}],area:[{required:!0,message:"请选择库区",trigger:"change"}],location:[{required:!0,message:"请选择库位",trigger:"change"}]}}},props:["dialogVisible"],watch:{dialogVisible:function(t,e){t&&this.$refs.ruleForm.resetFields()}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;e.$emit("doSure")})},resetForm:function(t){this.$emit("doClose")}}}},668:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(838),n=o.n(a);e.default={name:"inventory",data:function(){return{searchForm:{sellOutNo:"",customNo:"",state:"",consignor:"",wave:""},loading:!0,tableData:[],currentPage:1,pageSize:10,dialogVisible:!1,editeTitle:""}},mounted:function(){this.loadData()},components:{"v-DialogForm":n.a},methods:{loadData:function(){var t=this;this.loading=!0,this.tableData=[{id:"1",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",carrier:"京东快递",courierNum:"56323565465435",wave:"司",createdate:"2016-05-02",date:"2016-05-02",weight:"1000kg",count:"11500包",state:"1"},{id:"2",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",carrier:"京东快递",courierNum:"56323565465435",wave:"公司",createdate:"2016-05-02",date:"2016-05-04",weight:"800kg",count:"11000包",state:"2"},{id:"3",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",wave:"司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-01",createdate:"2016-05-02",weight:"1200kg",count:"1500包",state:"2"},{id:"4",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",wave:"公司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-03",createdate:"2016-05-02",weight:"1100kg",count:"12500包",state:"1"},{id:"5",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",wave:"司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-01",createdate:"2016-05-02",weight:"1200kg",count:"1500包",state:"2"},{id:"6",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",wave:"公司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-03",createdate:"2016-05-02",weight:"1100kg",count:"12500包",state:"1"},{id:"7",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",wave:"司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-01",createdate:"2016-05-02",weight:"1200kg",count:"1500包",state:"2"},{id:"8",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",wave:"公司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-03",createdate:"2016-05-02",weight:"1100kg",count:"12500包",state:"1"},{id:"9",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",wave:"司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-01",createdate:"2016-05-02",weight:"1200kg",count:"1500包",state:"2"},{id:"10",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",wave:"公司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-03",createdate:"2016-05-02",weight:"1100kg",count:"12500包",state:"1"},{id:"11",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"杭州塑料制品厂",wave:"司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-01",createdate:"2016-05-02",weight:"1200kg",count:"1500包",state:"2"},{id:"12",sellOutNo:"CK2017263-022",customNo:"201705162556231154",consignor:"张家港长江国际",wave:"公司",carrier:"京东快递",courierNum:"56323565465435",date:"2016-05-03",createdate:"2016-05-02",weight:"1100kg",count:"12500包",state:"1"}],setTimeout(function(){t.loading=!1},100)},handleSizeChange:function(t){this.pageSize=t,console.log("每页 "+t+" 条"),this.loadData()},handleCurrentChange:function(t){this.currentPage=t,this.loadData(),console.log("当前页: "+t)},onSearch:function(){this.currentPage=1,console.log("onSearch!"),this.loadData()},onClear:function(){this.searchForm={sellOutNo:"",customNo:"",state:"",consignor:"",wave:""}},add:function(){this.editeTitle="创建盘点单",this.dialogVisible=!0},edite:function(t){this.editeTitle="编辑盘点单",this.dialogVisible=!0},doSure:function(){this.editeTitle="",this.dialogVisible=!1},doClose:function(){this.editeTitle="",this.dialogVisible=!1},goDetail:function(t){this.$router.push({path:"/storage_action/inventory/detail/"+t.id})},deleteRow:function(t,e){var o=this;this.$confirm("确定删除该该条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.splice(t,1),o.$message({type:"success",message:"删除成功!"})}).catch(function(){o.$message({type:"info",message:"已取消删除"})})},reviewed:function(t){var e=this,o=this.$createElement;this.$msgbox({title:"盘点结果审核",message:o("div",{style:"text-align:center"},[o("p",null,"请仔细检查盘点结果详情，然后再予以审核！"),o("p",null,"一旦审核通过，盘点结果将记录进系统库存！")]),showCancelButton:!0,confirmButtonText:"通过审核",cancelButtonText:"拒绝",beforeClose:function(t,e,o){"confirm"===t?(e.confirmButtonLoading=!0,e.confirmButtonText="执行通过...",setTimeout(function(){o(),setTimeout(function(){e.confirmButtonLoading=!1},300)},3e3)):(e.cancelButtonLoading=!0,e.cancelButtonText="执行拒绝...",setTimeout(function(){o(),setTimeout(function(){e.cancelButtonLoading=!1},300)},3e3))}}).then(function(t){var o="";o="confirm"===t?"通过审核执行成功":"拒绝执行成功",e.$message({type:"info",message:o})})},handleInventory:function(t){this.$router.push({path:"/storage_action/inventory/handle_inventory/"+t.id})}}}},708:function(t,e,o){e=t.exports=o(94)(!0),e.push([t.i,".grid-container{height:auto;overflow:hidden}.grid-container .search-form{height:auto;overflow:hidden;padding:22px 22px 0;background:#f9f9f9}.grid-container .action-column{text-align:right}.grid-container .color-gred{color:#999}","",{version:3,sources:["E:/wmsAdmin/src/components/storageaction/inventory/inventory.vue"],names:[],mappings:"AACA,gBACE,YAAa,AACb,eAAiB,CAClB,AACD,6BACE,YAAa,AACb,gBAAiB,AACjB,oBAAqB,AACrB,kBAAoB,CACrB,AACD,+BACE,gBAAkB,CACnB,AACD,4BACE,UAAY,CACb",file:"inventory.vue",sourcesContent:["\n.grid-container {\n  height: auto;\n  overflow: hidden;\n}\n.grid-container .search-form {\n  height: auto;\n  overflow: hidden;\n  padding: 22px 22px 0;\n  background: #f9f9f9;\n}\n.grid-container .action-column {\n  text-align: right;\n}\n.grid-container .color-gred {\n  color: #999;\n}\n"],sourceRoot:""}])},775:function(t,e,o){var a=o(708);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);o(95)("2753bdb6",a,!0)},838:function(t,e,o){var a=o(29)(o(666),o(900),null,null,null);t.exports=a.exports},872:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"grid-container"},[o("div",{staticClass:"search-form"},[o("el-form",{attrs:{inline:!0,model:t.searchForm}},[o("el-form-item",{attrs:{label:"盘点单号"}},[o("el-input",{attrs:{placeholder:"盘点单号"},model:{value:t.searchForm.consignor,callback:function(e){t.searchForm.consignor=e},expression:"searchForm.consignor"}})],1),t._v(" "),o("el-form-item",{attrs:{label:"盘点类型"}},[o("el-select",{attrs:{placeholder:"盘点类型"},model:{value:t.searchForm.state,callback:function(e){t.searchForm.state=e},expression:"searchForm.state"}},[o("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),o("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"盘点状态"}},[o("el-select",{attrs:{placeholder:"盘点状态"},model:{value:t.searchForm.state,callback:function(e){t.searchForm.state=e},expression:"searchForm.state"}},[o("el-option",{attrs:{label:"区域一",value:"shanghai"}}),t._v(" "),o("el-option",{attrs:{label:"区域二",value:"beijing"}})],1)],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:t.onSearch}},[t._v("查询")]),t._v(" "),o("el-button",{on:{click:t.onClear}},[t._v("清空")])],1)],1)],1),t._v(" "),o("div",{staticClass:"grid-toolbar"},[o("button",{staticClass:"tool-btn btn-add",on:{click:t.add}},[t._v("创建盘点单")]),t._v(" "),o("button",{staticClass:"tool-btn btn-export"},[t._v("导出")])]),t._v(" "),o("div",{staticClass:"grid-content"},[o("el-table",{directives:[{name:"loading",rawName:"v-loading.body",value:t.loading,expression:"loading",modifiers:{body:!0}}],staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[o("el-table-column",{attrs:{prop:"",label:"盘点单号",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"盘点类型",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"盘点范围",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"盘点规则",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"创建时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"创建人",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"完成初盘时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"初盘人",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"完成复盘时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"复盘人",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"审核时间",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"审核人",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{prop:"",label:"状态",width:"150"}}),t._v(" "),o("el-table-column",{attrs:{fixed:"right",label:"操作",width:"350","class-name":"action-column"},scopedSlots:t._u([{key:"default",fn:function(e){return[o("div",{staticClass:"action-column"},[o("el-button",{attrs:{type:"text",size:"small"}},[t._v("\n\t\t\t          \t\t打印盘点单\n\t\t\t        \t")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.handleInventory(e.row)}}},[t._v("\n\t\t\t          \t\t手工盘点\n\t\t\t        \t")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.reviewed(e.row)}}},[t._v("\n\t\t\t          \t\t审核\n\t\t\t        \t")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.goDetail(e.row)}}},[t._v("\n\t\t\t          \t\t详情\n\t\t\t        \t")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.edite(e.row)}}},[t._v("\n\t\t\t          \t\t编辑\n\t\t\t        \t")]),t._v(" "),o("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(o){o.preventDefault(),t.deleteRow(e.$index,t.tableData)}}},[t._v("\n\t\t\t          \t\t删除\n\t\t\t        \t")])],1)]}}])})],1)],1),t._v(" "),o("div",{staticClass:"grid-page"},[o("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50,100],"page-size":t.pageSize,layout:"total,->, prev, pager, next, jumper, sizes",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e}}})],1),t._v(" "),o("el-dialog",{attrs:{title:t.editeTitle,visible:t.dialogVisible,size:"tiny","modal-append-to-body":!1,"close-on-press-escape":!1,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("v-DialogForm",{attrs:{dialogVisible:t.dialogVisible},on:{doClose:t.doClose,doSure:t.doSure}})],1)],1)},staticRenderFns:[]}},900:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"150px"}},[o("el-form-item",{attrs:{label:"盘点类型",prop:"type"}},[o("el-select",{attrs:{placeholder:"请选择盘点类型"},model:{value:t.ruleForm.type,callback:function(e){t.ruleForm.type=e},expression:"ruleForm.type"}},[o("el-option",{attrs:{label:"类型一",value:"A1"}}),t._v(" "),o("el-option",{attrs:{label:"类型二",value:"A2"}}),t._v(" "),o("el-option",{attrs:{label:"类型三",value:"A3"}}),t._v(" "),o("el-option",{attrs:{label:"类型四",value:"A4"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"选择商家",prop:"area"}},[o("el-select",{attrs:{placeholder:"请选选择商家"},model:{value:t.ruleForm.area,callback:function(e){t.ruleForm.area=e},expression:"ruleForm.area"}},[o("el-option",{attrs:{label:"库区一",value:"1"}}),t._v(" "),o("el-option",{attrs:{label:"库区二",value:"2"}}),t._v(" "),o("el-option",{attrs:{label:"库区三",value:"3"}}),t._v(" "),o("el-option",{attrs:{label:"库区四",value:"4"}})],1)],1),t._v(" "),o("el-form-item",{attrs:{label:"盘点规则",prop:"location"}},[o("el-select",{attrs:{placeholder:"请选盘点规则"},model:{value:t.ruleForm.location,callback:function(e){t.ruleForm.location=e},expression:"ruleForm.location"}},[o("el-option",{attrs:{label:"库位一",value:"881"}}),t._v(" "),o("el-option",{attrs:{label:"库位二",value:"882"}}),t._v(" "),o("el-option",{attrs:{label:"库位三",value:"883"}}),t._v(" "),o("el-option",{attrs:{label:"库位四",value:"884"}})],1)],1),t._v(" "),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submitForm("ruleForm")}}},[t._v("提交")]),t._v(" "),o("el-button",{on:{click:function(e){t.resetForm("ruleForm")}}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=21.4323fa72baf82d9b94ff.js.map